---
import Base from "@layouts/Base.astro";
import Default from "@layouts/Default.astro";
import Woman from "@layouts/Woman.astro";
import { getSingleWoman } from "@lib/contentParser.astro";

const getModels = await getSingleModel("models");
const modelsSlug = getModels.map((item) => item.slug);

export async function getStaticPaths() {
  const women = await getSingleWoman("women");
  const allWomen = [...women];

  const paths = allWomen.map((woman) => ({
    params: {
      regular: woman.slug,
    },
    props: { woman },
  }));
  return paths;
}

const { woman } = Astro.props;
const { name, image } = woman.data;
---

<Base
  name={name}
  image={image}
>
  {
    womenSlug.includes(woman.slug) ? (
      <Woman woman={woman} />
    ) : (
      <Default data={woman} />
    )
  }
</Base>
